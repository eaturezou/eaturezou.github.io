---
layout: post
author: eature
published: true
categories: MySQL
tags:
- mysql
- 数据类型
---
###### 数据类型选择的原则  
* 更小的类型通常更好，一般情况下选择能够正确存储数据的最小类型，更小的数据类型更快，占更小的磁盘、CPU、内存
* 尽量选择更为简单的数据类型，简单的数据类型需要更少的cpu，例如整型的数据比字符型的操作代价更低
* 尽量避免NULL，通常情况下最好指定列为not null，除非真的需要null值
> 在为列选择数据类型时，第一步确认合适的大类型：数字、字符串、时间等，下一步为选择具体的类型

###### 下面对基本的数据类型进行阐述
* 整数类型
  * tinyint，8位存储空间
  * smallint，16位存储空间
  * mediumint，24位存储空间
  * int，32位存储空间
  * bigint，64位存储空间

  整数类型有可选的unsigned属性，，表示不予许负值，大致可使正数的上限提高一倍，例如tinyint的范围是-128~127，加上unsigned后的范围是0-256，有无符号具有相同的存储空间和相同的性能  
  *** mysql可以为整形指定宽度，不过对大多数应用没有意义，它不限制值的范围，只是规定mysql的一些交互工具显示字符的位数，对存储计算来说，int（10）和int（20）来说是一样的 ***  
* 实数类型
  * decimal，用于存储精确的小数
  * float，使用4个字节
  * double，占用8个字节

  *** 浮点型通常比decimal占用更少的空间 ***  
  在数据量比较大的时候，可以考虑用bigint代替decimal，将小数的单位存储相应的倍数即可
* 字符串类型
  * varchar，varchar类型用于存储可变长字符串，它比定长字符串更节省空间，因为它只存储必要的空间。  
  下列情况适合使用varchar
    * 字符串的最大长度比平均长度大很多
    * 更新很少的列
  * char，char类型是定长的，根据定义的长度分配足够的空间。  
  char类型适合存储很短的数据类型，或者所有值都接近一个长度的列。
* blob和text类型  
blob采用二进制存储，text采用字符串存储，并且blob没有排序规则和字符集和text有
* 枚举enum类型  
枚举列可以把一些不重复的字符串存储成一个预定义的集合。mysql会将每个值在列表中的位置保存成一个整数，形成`数字->字符串`的映射表  
例如：
```
  //定义一个枚举类型的列
  create table enum_table(
    e enum('fish','apple','orange') not null
  );
  insert into enum_table(e) values('fish'),('orange'),('apple');
  // 实际存储的e列的值为，1，3，2，并且排序是按照存储的整数进行排序的而不是字符串
```
* 日期与时间类型
  * datetime，能保存大范围的值，从1001年到9999年，精度为秒，他把时间和日期封装成YYYYMMDDHHMMSS的整数中。使用8个字节的存储空间。
  * timestamp，保存从1970年以来的秒数，与unix时间戳相同。使用4个字节的存储空间。  

  通常尽量使用timestamp，因为他只占用4个字节，比datetime空间效率更高。
* 位数据类型
